<!--component html goes here -->
<div class="modal-dialog" role="dialog">
    <div class="error-box" *ngIf="error"> {{alertMessage }} </div>
    <div class="seccess-box" *ngIf="success"> {{alertMessage }} </div>
    <div class="modal-content">
        <div class="modal-body">

            <h3>Fullfill Request</h3>
            <a type="button" *ngIf="!showSpaces" class="btn btn-blue-large" (click)=chooseExisting()>Choose existing space</a>
            <div *ngIf="showSpaces" class="select-space step-muilty">
                <form>
                    <!-- <div>
                        <p>SpaceLink</p>
                        <input type="text"  class="form-control"  name="spaceLink" required [(ngModel)]="spaceLink" placeholder="Space Link" />
                    </div> -->

                    <ul>
                        <li class="container" *ngFor="let item of approvedSpaces" (click)="selectSpace(item)" [ngClass]="{ 'active' : item.isSelected }">
                            <div class="row">
                                <div class="col-sm-4">
                                    <server-image [src]="item.coverPictire"></server-image>
                                </div>
                                <div class="col-sm-8">
                                    <div>{{ item.title }}</div>
                                    <div class="small">{{ item.address }}</div>
                                </div>
                            </div>
                            
                        </li>
                    </ul>
                    <div>
                        <p>Description</p>
                        <textarea type="text" maxLength="1000" name="description" class="form-control" required [(ngModel)]="description" placeholder="Description"></textarea>
                    </div>
                </form>
            </div>
            <!-- <button type="button" class="btn btn-blue-large" (click)=close()>List a new space</button> -->
            <a target="_blank" [routerLink]="['/spaces/new']" [queryParams]="{ requestId : context.requestId }" type="button" *ngIf="!showSpaces"
                class="btn btn-blue-large" (click)=close()>List a new space</a>
            <div class="modal-footer">
                <button type="button" *ngIf="showSpaces" class="btn btn-primary" (click)=submitSpaces()>Submit</button>
                <button type="button" class="btn btn-primary" (click)=close()>Close</button>
            </div>
        </div>
    </div>
</div>